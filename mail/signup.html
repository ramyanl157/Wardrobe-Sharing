<!DOCTYPE html>
<html>

<head>
<script src="jquery-3.1.1.min.js"></script>

    <style>
        .back{
        font-size:16px;
        }

        .back:hover{
        text-decoration: none;
        color: white;
        }
    </style>
    <script>

        function reg(){
            // console.log("Hello");
            var data = {
            'name': $('#name').val(),
            'emailID': $('#email').val(),
            'password': $('#password1').val()
            }
          
            var request = $.ajax({
            type: 'GET',
            url:"http://localhost:3000/signup",
            dataType:"json",
            data: data,
            crossDomain:true,
            
             success: function(obj){
                 console.log(obj.stat);
                 if(obj.stat == "ok"){
                     alert("Success");

                 }
                 else if(obj.stat == "duplicate")
                     alert("You already have an account with this email ID");
             },
             error:function(jqXHR,textStatus,errorThrown ){
                 // console.log(obj);
                 // console.log(obj.status);
                 console.log(jqXHR);
                 console.log(textStatus);
                 console.log(errorThrown);
                 console.log("Sorry! Something went wrong. Try Again!");
             }

            });
        //     request.done(function(obj, textStatus, xhr){
        //         console.log(xhr.stat);
        //         console.log(obj.stat);
        //         if(obj.stat == "success"){
        //             console.log("Success")
        //         }
        //         else if(obj.stat == "duplicate"){
        //             alert("You already have an account with this email ID");
        //         }
        //     });
        //     request.fail(function(jqXHR,textStatus,errorThrown ){
        //         console.log(jqXHR);
        //         console.log(textStatus);
        //         console.log(errorThrown);
        //         alert("Sorry! Something went wrong. Try Again!");
        //     });
        
        // var xhr = new XMLHttpRequest();
        // xhr.onreadystatechange = function(){
        //     if(xhr.readyState==4 ){
        //         console.log(xhr);
        //         alert(xhr.responseText);
        //     }
        // }
        // var n = ($('#name').val());
        // var e = $('#email').val();
        // var p = $('#password').val();
        // var url = "http://localhost:3000/signup?name="+n +"&emailID="+e + "&password="+p;
        // xhr.open("GET",url,true);
        // xhr.send();
    }

        function matchPassword(){
            if($('#password').val() != $('#password1').val())
                $('#pcheck').show();
        }
        
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,700' rel='stylesheet' type='text/css'> 
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/animate.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">

</head>
<body class="">

<div class="loginColumns animated fadeInDown">
    <div class="row">

        <div class="col-md-12">
            <p class = "logintext2">Let's Get Exploring...</p>
        </div>
        <div class="col-md-12">
            <div class="wrappingbox">
                    <form>
                        <div class="form-group">
                            <input id="name" type="text" class="form-control" placeholder="Name" required>
                        </div>
                        <div class="form-group">
                            <input id="email" type="email" class="form-control" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input id="password" type="password" class="form-control" placeholder="Password" required="">
                        </div>
                        <div class="form-group">
                            <input id="password1" type="password" onblur="matchPassword()" class="form-control" placeholder="Confirm Password">
                        </div>
                        <div id = "pcheck" hidden = true> Password Mismatch</div>
                        <button id="sub" onclick='reg()' type="submit" class="btn btn-primary btn-block" >Register</button>
                        <br>
                        <p class="text-muted text-center"><small>Already have an account?</small>
                        <a class="btn btn-sm btn-white btn-block" href="login.html" style = "color:#676a6c;font-size:13px">Login</a>
                        </p>
                    </form>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-12">
            <a href = "index.html" class = "back">&larr; Home </a>
        </div>
    </div>
</div>

</body>
</html>
